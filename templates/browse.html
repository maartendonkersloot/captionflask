{% extends 'base.html' %}
{% block content %}
    <p id="{{ currentdir }}" class="dir" >Current working directory: {{ currentdir }}</p>
    <button class="up">Go 1 directory up</button>
    <div class="uk-child-width-1-5@s uk-grid uk-margin" uk-grid="">
        {% for sub in currentfiles %}
            <div>
                <p>{{ sub }}</p>
            </div>
        {% endfor %}
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="https://pagination.js.org/dist/2.1.5/pagination.min.js"></script>

    <script type=text/javascript>

        $(document).ready(function () {


            $(".up").click(function () {
                objd = $(".dir").attr("id")
                console.log(objd)
                form = new FormData();
                form.append('dir', objd);

                $.ajax({
                    type: 'POST',
                     processData: false,
                    contentType: false,
                    url: "{{url_for('getdir_up')}}",
                    data: form,
                    success: function (d) {
                        console.log(d)
                        $(".dir").attr("id",d["currentdir"])
                        $(".dir").text("Current working directory: " + d["currentdir"])
                    }
                });
            });
        })
    </script>
{% endblock %}